<div
  data-ng-if="handleServers.length > 0"
  title="{{xsMode ? ('createHandleForRecord-help' | translate) : ''}}"
>
  <h2 data-translate="" data-ng-hide="xsMode">createHandleForRecord</h2>
  <div data-ng-hide="xsMode" class="text-muted" data-translate="">
    createHandleForRecord-help
  </div>

  <div class="btn-group" data-ng-class="{'btn-group-xs': xsMode}" role="group">
    <select
      class="form-control"
      data-ng-change="updateHandleServer()"
      data-ng-show="handleServers.length > 1"
      data-ng-model="selectedHandleServer"
      data-ng-options="s.id as s.name for s in handleServers"
    >
      >
    </select>

    <button
      class="btn btn-default"
      data-gn-click-and-spin="check()"
      data-ng-class="{
          'btn-default': response.check == null,
          'btn-success': response.check.status === 200,
          'btn-warning': response.check.data && response.check.data.code === 'resource_already_exist',
          'btn-danger': response.check.status === 400 && (!response.check.data || response.check.data.code !== 'resource_already_exist')}">
      <i
        class="fa fa-fw"
        data-ng-class="{
          'fa-check': response.check == null,
          'fa-thumbs-up': response.check.status === 200,
          'fa-thumbs-up': response.check.data && response.check.data.code === 'resource_already_exist',
          'fa-thumbs-down': response.check.status === 400 && (!response.check.data || response.check.data.code !== 'resource_already_exist')}"
      ></i>
      <span data-translate="">handleCreationTaskCheckAction</span>
    </button>

    <button
      class="btn btn-primary"
      data-ng-disabled="response.check && response.check.status !== 200 && (!response.check.data || response.check.data.code !== 'resource_already_exist')"
      data-gn-click-and-spin="create()"
    >
      <i class="fa fa-fw fa-play"></i>
      <span data-ng-if="!isUpdate" data-translate="">handleCreationTaskCreateAction</span>
      <span data-ng-if="isUpdate" data-translate="">handleCreationTaskUpdateAction</span>
    </button>

    <a
      class="btn btn-default"
      data-ng-if="handleUrl"
      data-ng-href="{{handleUrl}}"
      title="{{'handleViewLink' | translate}}"
      target="_blank"
    >
      <i class="fa fa-fw fa-link"></i>
      <span data-ng-hide="xsMode" data-translate="">handle</span>
    </a>
  </div>

  <div
    data-ng-if="response.check"
    data-ng-class="{'text-danger': response.check.status === 400}"
    data-ng-bind-html="response.check.data && response.check.data.description"
  ></div>
  <div
    data-ng-if="response.create"
    data-ng-class="{'text-danger': response.create.status === 400}"
    data-ng-bind-html="response.create.data && response.create.data.description"
  ></div>
</div>
